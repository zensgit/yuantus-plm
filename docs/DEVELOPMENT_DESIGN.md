# YuantusPLMï¼ˆå…ƒå›¾PLMï¼‰å¼€å‘è®¾è®¡ï¼ˆMVP â†’ å¯æ‰©å±•æ¶æ„ï¼‰

ä»“åº“ï¼š`yuantus-plm`  
äº§å“ï¼š**YuantusPLM / å…ƒå›¾PLM**  
å®šä½ï¼šé¢å‘æœºæ¢°è¡Œä¸šçš„ PLM å†…æ ¸æœåŠ¡ï¼ˆMeta Engine + æ–‡ä»¶ + ç‰ˆæœ¬ + å˜æ›´ + CAD é›†æˆç¼–æ’ï¼‰ï¼Œæ”¯æŒç§æœ‰åŒ–ä¸å¤šç§Ÿæˆ·ã€å¤šç»„ç»‡ã€‚

> æœ¬æ–‡æ¡£é¢å‘â€œå¼€å‘/æ¶æ„è®¾è®¡â€ï¼Œæè¿°å½“å‰ä»£ç å·²è½åœ°çš„ç»“æ„ä¸æ‰©å±•æ–¹å‘ï¼›å¯æ‰§è¡ŒéªŒè¯è§ `docs/VERIFICATION.md`ï¼Œå®é™…æ‰§è¡Œè®°å½•è§ `docs/VERIFICATION_RESULTS.md`ã€‚

---

## 1. ç›®æ ‡ä¸åŸåˆ™

### 1.1 ç›®æ ‡ï¼ˆå·¥ç¨‹åŒ–è½åœ°ï¼‰

- **æœºæ¢°è¡Œä¸šä¼˜å…ˆ**ï¼šBOM/ç‰ˆæœ¬/å˜æ›´é—­ç¯æ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§ï¼ŒCAD å¯¹æ¥ä»¥â€œç¼–æ’ + å¯æ’æ‹”è½¬æ¢/è§£æâ€æ–¹å¼è½åœ°ã€‚
- **ç§æœ‰åŒ– + å¤šç§Ÿæˆ·**ï¼šåŒä¸€å¥—ä»£ç æ”¯æŒ on-premï¼ˆå•ç§Ÿæˆ·/å¤šç»„ç»‡ï¼‰ä¸ SaaSï¼ˆå¤šç§Ÿæˆ·/å¤šç»„ç»‡ï¼‰ã€‚
- **å¯ç»´æŠ¤ä¸å¯æ¼”è¿›**ï¼šå…ˆæ¨¡å—åŒ–å•ä½“ï¼ˆModular Monolithï¼‰ç¨³å®šå†…æ ¸ï¼Œå†æŒ‰è¾¹ç•Œæ‹† worker/æœåŠ¡ï¼Œé¿å…æ—©æœŸå¾®æœåŠ¡å¤æ‚åº¦ã€‚
- **å¯¹æ¥ä¸»æµ CAD**ï¼šé€šè¿‡â€œæ–‡ä»¶/ä»»åŠ¡/æ’ä»¶/è¿æ¥å™¨â€åˆ†å±‚ï¼Œå¯¹æ¥ SolidWorks/Inventor/NX/CATIA/AutoCAD ç­‰çš„å¯¼å…¥ã€å±æ€§æŠ½å–ã€é¢„è§ˆ/å‡ ä½•è½¬æ¢ã€2D å›¾çº¸å»é‡ç­‰ã€‚

### 1.2 å…³é”®åŸåˆ™

- **å†…æ ¸æœåŠ¡åªåšâ€œçœŸç›¸æºï¼ˆSystem of Recordï¼‰+ æƒé™ + å¯è¿½æº¯â€**ï¼šCAD é‡è®¡ç®—/AI è¯†åˆ«/å»é‡ç­‰é‡ä»»åŠ¡èµ°å¼‚æ­¥ worker æˆ–å¤–éƒ¨æœåŠ¡ã€‚
- **å¥‘çº¦ä¼˜å…ˆ**ï¼šæ¥å£åˆåŒï¼ˆREST/RPC/Job payloadï¼‰ç¨³å®šåï¼Œå†æ›¿æ¢å†…éƒ¨å®ç°ï¼ˆæœ¬åœ°è½¬æ¢ â†’ FreeCAD é›†ç¾¤ â†’ å•†ä¸šè½¬æ¢å™¨ï¼‰ã€‚
- **éš”ç¦»ä¼˜å…ˆ**ï¼šTenant/Org æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œåç»­ä»»ä½•æ¨¡å—éƒ½å¿…é¡»èƒ½åœ¨ç§Ÿæˆ·/ç»„ç»‡ç»´åº¦éš”ç¦»ã€å®¡è®¡ã€é™é¢ã€‚

---

## 2. æ€»ä½“æ¶æ„ï¼ˆå½“å‰è½åœ°ï¼‰

### 2.1 å½¢æ€ï¼šæ¨¡å—åŒ–å•ä½“ + Workerï¼ˆå¯å¹³æ»‘æ¼”è¿›å¾®æœåŠ¡ï¼‰

- **Core APIï¼ˆFastAPIï¼‰**ï¼šå¯¹å¤–æä¾› PLM ä¸šåŠ¡ APIã€å…ƒæ¨¡å‹/AMLã€æ–‡ä»¶ã€ç‰ˆæœ¬ã€ECOã€ä½œä¸šæŸ¥è¯¢ç­‰ã€‚
- **Job Workerï¼ˆTyper CLI å¯åŠ¨ï¼‰**ï¼šè½®è¯¢ DB ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œ CAD é¢„è§ˆ/å‡ ä½•è½¬æ¢/å»é‡/ML ç­‰ä»»åŠ¡ã€‚
- **Pluginsï¼ˆå¯æ’æ‹”æ‰©å±•ï¼‰**ï¼šåœ¨ä¸æ”¹ core çš„æƒ…å†µä¸‹æŒ‚è½½è·¯ç”±ã€ä»»åŠ¡ã€å­—æ®µç±»å‹/è§„åˆ™ã€è¿æ¥å™¨ã€‚
- **External Servicesï¼ˆå¯é€‰ï¼‰**ï¼š
  - `Athena`ï¼šECM/DMSï¼ˆæ–‡æ¡£/å®¡æ‰¹/å½’æ¡£ç­‰æ‰©å±•èƒ½åŠ›ï¼‰
  - `dedupcad-vision`ï¼š2D å›¾çº¸ç›¸ä¼¼æ£€ç´¢/å»é‡
  - `cad-ml-platform`ï¼šå›¾åƒ/å›¾çº¸çš„ OCR/æè¿°/åˆ†ç±»ç­‰

### 2.2 é€»è¾‘åˆ†å±‚ï¼ˆå»ºè®®è§†è§’ï¼‰

1) **API å±‚**ï¼šé‰´æƒã€ç§Ÿæˆ·/ç»„ç»‡ä¸Šä¸‹æ–‡æ³¨å…¥ã€å‚æ•°æ ¡éªŒã€è·¯ç”±  
2) **é¢†åŸŸå±‚ï¼ˆMeta Engineï¼‰**ï¼šItem/Type/Property/Relationshipã€AMLã€BOMã€Versionã€ECOã€æƒé™æ¨¡å‹  
  - å…³ç³»äº‹å®æºä¸º `meta_items`ï¼ˆ`ItemType.is_relationship=true`ï¼‰ï¼Œ`meta_relationships` ä»…ä¿ç•™åªè¯»å…¼å®¹å±‚  
  - `RelationshipType` å·²åºŸå¼ƒï¼Œåç»­ç»Ÿä¸€ä»¥ `ItemType` è¡¨è¾¾å…³ç³»  
  - å…¼å®¹å±‚å†™å…¥ä¼šè¢«æ‹¦æˆªå¹¶è®¡æ•°ï¼ˆ`GET /api/v1/admin/relationship-writes`ï¼Œè¿›ç¨‹å†…ç»Ÿè®¡ï¼Œå¯è®¾ç½® `warn_threshold`ï¼‰  
   - æ—§çš„å…³ç³»æ¡¥æ¥ï¼ˆ`PartBOMBridge`ï¼‰å·²ç¦ç”¨ï¼Œé¿å… legacy å†™å…¥è·¯å¾„  
3) **åŸºç¡€è®¾æ–½å±‚**ï¼šDB/å­˜å‚¨ï¼ˆlocal/S3ï¼‰ã€é˜Ÿåˆ—ï¼ˆDB jobsï¼‰ã€å¤–éƒ¨æœåŠ¡å®¢æˆ·ç«¯ï¼ˆHTTPï¼‰  
4) **å¼‚æ­¥å¤„ç†å±‚**ï¼šWorker + ä»»åŠ¡å¤„ç†å™¨ï¼ˆCAD pipeline tasksï¼‰

---

## 3. å¤šç§Ÿæˆ·/å¤šç»„ç»‡è®¾è®¡

### 3.1 ä¸Šä¸‹æ–‡ä¼ é€’

- è¯·æ±‚å¤´ï¼š
  - `x-tenant-id`ï¼šç§Ÿæˆ·
  - `x-org-id`ï¼šç»„ç»‡
- API å±‚ä¼šæŠŠ Header æ³¨å…¥åˆ° `ContextVar`ï¼ˆTenant/Org ä¸Šä¸‹æ–‡ï¼‰ï¼Œä¾› DB/session å’Œä¸šåŠ¡é€»è¾‘è¯»å–ã€‚

### 3.2 æ•°æ®éš”ç¦»ç­–ç•¥ï¼ˆå½“å‰æ”¯æŒï¼‰

é…ç½®é¡¹ï¼ˆ`YUANTUS_TENANCY_MODE`ï¼‰ï¼š

- `single`ï¼ˆé»˜è®¤ï¼‰ï¼šå…±äº«åŒä¸€ DBï¼ˆé€‚åˆç§æœ‰åŒ–å•ç§Ÿæˆ·/å¤šç»„ç»‡çš„ MVPï¼‰
- `db-per-tenant`ï¼šæ¯ç§Ÿæˆ·ä¸€ä¸ª DBï¼ˆSaaS dev å‹å¥½ï¼Œåˆ©äºéš”ç¦»ä¸è¿ç§»ï¼‰
- `db-per-tenant-org`ï¼šæ¯ tenant+org ä¸€ä¸ª DBï¼ˆå¼ºéš”ç¦»ï¼Œé€‚åˆé«˜éš”ç¦»è¦æ±‚çš„ç§æœ‰åŒ–/é›†å›¢å¤šç»„ç»‡ï¼‰

> è¯´æ˜ï¼šå½“å‰å®ç°æ˜¯â€œDB çº§éš”ç¦»â€ï¼ˆsqlite æ´¾ç”Ÿæ–‡ä»¶åï¼‰ï¼›æœªæ¥å¦‚ä½¿ç”¨ Postgresï¼Œå¯æ”¹ä¸º schema-per-tenant æˆ–ç‹¬ç«‹åº“ï¼Œä¿æŒæ¥å£ä¸ä¸Šä¸‹æ–‡ä¸å˜ã€‚

### 3.3 Worker ä¸éš”ç¦»ä¸€è‡´æ€§

- Worker å¿…é¡»ä¸ API ä½¿ç”¨ç›¸åŒçš„ `TENANCY_MODE` ä¸ tenant/org ä¸Šä¸‹æ–‡ï¼Œæ‰èƒ½å¤„ç†å¯¹åº”éš”ç¦»åŸŸçš„ä»»åŠ¡ã€‚
- CLI å·²æä¾› `--tenant/--org` å‚æ•°æ³¨å…¥ä¸Šä¸‹æ–‡ï¼ˆè§ `yuantus worker`ï¼‰ã€‚

---

## 4. é‰´æƒä¸æƒé™æ¨¡å‹

### 4.1 é‰´æƒï¼ˆJWTï¼‰

- å†…ç½® Identity DBï¼Œ`/api/v1/auth/login` ç­¾å‘ JWTã€‚
- `YUANTUS_AUTH_MODE`ï¼š
  - `disabled`ï¼šä¸é‰´æƒï¼ˆä¸å»ºè®®ï¼‰
  - `optional`ï¼šå…¼å®¹å¼€å‘æœŸï¼ˆé»˜è®¤ï¼‰
  - `required`ï¼šé™¤ health/login/docs å¤–å…¨éƒ¨å¼ºåˆ¶ Bearer Tokenï¼ˆæ¨èï¼‰

### 4.2 å¤šç»„ç»‡ç”¨æˆ·

- æ”¯æŒç”¨æˆ·å±äºå¤šä¸ª orgã€‚
- æ¨èæµç¨‹ï¼šå…ˆ tenant ç™»å½• â†’ `/auth/orgs` åˆ—å‡º org â†’ `/auth/switch-org` ç­¾å‘å¸¦ `org_id` çš„ tokenã€‚

### 4.3 å…ƒæ•°æ®æƒé™ï¼ˆRBAC / ACEï¼‰

- Meta Engine æ”¯æŒåœ¨ `ItemType` ç»´åº¦ç»‘å®šæƒé™é›†ï¼ˆPermissionSet/ACEï¼‰ï¼Œå®ç°â€œè§’è‰²/èº«ä»½â€åˆ° CRUD çš„æ§åˆ¶ã€‚
- ç›®æ ‡ï¼šå¯¹å…³é”®å¯¹è±¡ï¼ˆPart/BOM/ECO/Docï¼‰å¯é…ç½®ç»†ç²’åº¦æƒé™ç­–ç•¥ï¼Œé…åˆå®¡è®¡ä¸å®¡æ‰¹ã€‚

---

## 5. Meta Engineï¼ˆPLM å†…æ ¸ï¼‰

### 5.1 å…ƒæ¨¡å‹ä¸ AML

- ä»¥ `ItemType + Properties + Relationships` å®šä¹‰ä¸šåŠ¡å¯¹è±¡ç»“æ„ã€‚
- æä¾› AMLï¼ˆç±» Aras çš„æ“ä½œé£æ ¼ï¼‰ç”¨äº add/get/update/â€¦ï¼Œåˆ©äºå¿«é€Ÿæ­æ¨¡å‹ä¸å…¼å®¹è¿ç§»ã€‚

### 5.2 BOMã€ç‰ˆæœ¬ã€å˜æ›´ï¼ˆECOï¼‰

- BOMï¼šæä¾›æœ‰æ•ˆ BOM æŸ¥è¯¢æ¥å£ï¼Œåç»­æ‰©å±•åˆ°å¤šçº§ã€æ›¿ä»£ä»¶ã€æ•ˆæœŸä¸é…ç½®ã€‚
- Versionsï¼šæä¾›åˆå§‹åŒ–ã€å†å²ã€æ ‘ï¼›ä¸º ECO ä¸ CAD ç‰ˆæœ¬ç»‘å®šæä¾›åŸºç¡€ã€‚
- ECOï¼šæœ€å°é—­ç¯ï¼ˆåˆ›å»º â†’ new-revision â†’ approve â†’ applyï¼‰å·²å…·å¤‡ï¼Œå¯ä½œä¸ºâ€œå·¥ç¨‹å˜æ›´â€ä¸»å¹²æ¼”è¿›ã€‚

### 5.3 BOM Compare Schemaï¼ˆå‰ç«¯å¥‘çº¦ï¼‰

- ç«¯ç‚¹ï¼š`GET /api/v1/bom/compare/schema`
- ç›®çš„ï¼šå‘å‰ç«¯æš´éœ² BOM å¯¹æ¯”å­—æ®µã€å½’ä¸€åŒ–è§„åˆ™ä¸ compare_modeï¼Œé¿å…ç¡¬ç¼–ç ã€‚
- å­—æ®µåˆ†çº§ï¼š
  - **major**ï¼š`quantity` / `uom` / `effectivity_from` / `effectivity_to` / `effectivities`
  - **minor**ï¼š`find_num` / `refdes` / `substitutes`
- compare_modeï¼š
  - `only_product`ï¼šä»…æŒ‰å­ä»¶é…ç½®å¯¹æ¯”
  - `summarized`ï¼šèšåˆæ•°é‡åå¯¹æ¯”
  - `num_qty`ï¼šåŒ…å« `find_num + quantity`
  - `by_position`ï¼šæŒ‰ `find_num` å¯¹æ¯”
  - `by_reference`ï¼šæŒ‰ `refdes` å¯¹æ¯”

--- 

## 6. æ–‡ä»¶ä¸å­˜å‚¨è®¾è®¡

### 6.1 æ–‡ä»¶æ¨¡å‹ï¼ˆFileContainerï¼‰

- æ–‡ä»¶ç»Ÿä¸€æŠ½è±¡ä¸º `FileContainer`ï¼š
  - `system_path`ï¼šå­˜å‚¨ç›¸å¯¹è·¯å¾„ï¼ˆlocalï¼‰æˆ–å¯¹è±¡ keyï¼ˆS3ï¼‰
  - `checksum`ï¼šç”¨äºå»é‡ä¸å¼•ç”¨å¤ç”¨
  - `document_type`ï¼šCAD_2D/CAD_3D/OTHER ç­‰
  - `preview_path` / `geometry_path`ï¼šæ´¾ç”Ÿæ–‡ä»¶ï¼ˆé¢„è§ˆå›¾/å‡ ä½•æ–‡ä»¶ï¼‰

### 6.2 å­˜å‚¨é€‚é…

- `STORAGE_TYPE=local`ï¼šå¼€å‘/å°è§„æ¨¡ç§æœ‰åŒ–å¯ç”¨
- `STORAGE_TYPE=s3`ï¼šç”Ÿäº§æ¨èï¼ˆMinIO/OBS/S3ï¼‰ï¼Œé€šè¿‡ FileService é€‚é…

### 6.3 æ–‡ä»¶ä¸ Item å…³è”

- é€šè¿‡å…³ç³»è¡¨æŠŠæ–‡ä»¶æŒ‚è½½åˆ° Itemï¼ˆé™„ä»¶/ä¸»æ¨¡å‹/å›¾çº¸/æ‰“å°ä»¶ç­‰è§’è‰²ï¼‰ã€‚
- ç›®æ ‡ï¼šå®ç°â€œåŒä¸€æ–‡ä»¶å¯è¢«å¤šä¸ªå¯¹è±¡å¼•ç”¨ + æƒé™/ç‰ˆæœ¬/å˜æ›´å¯è¿½æº¯â€ã€‚

---

## 7. CAD é›†æˆè®¾è®¡ï¼ˆå½“å‰ MVP å·²è½åœ°ï¼‰

### 7.1 CAD Import APIï¼ˆç¼–æ’å…¥å£ï¼‰

- Endpointï¼š`POST /api/v1/cad/import`
- è¾“å…¥ï¼šmultipart ä¸Šä¼ æ–‡ä»¶ï¼›å¯é€‰ `item_id` ç›´æ¥æŒ‚åˆ° Itemã€‚
- å¯é€‰ï¼š`auto_create_part=true` åœ¨æ—  `item_id` æ—¶è‡ªåŠ¨åˆ›å»º Part å¹¶ç»‘å®šé™„ä»¶ã€‚
- è¾“å‡ºï¼š`file_id` + ç”Ÿæˆçš„ Job åˆ—è¡¨ï¼ˆå¦‚ `cad_preview` / `cad_geometry` / `cad_dedup_vision` / `cad_ml_vision`ï¼‰ã€‚

æ ¸å¿ƒæ€æƒ³ï¼š

- **ä¸Šä¼ /è½åº“/å»é‡ï¼ˆåŒæ­¥ï¼‰**ï¼šå…ˆæŠŠæ–‡ä»¶ä½œä¸ºçœŸç›¸æºå†™å…¥ FileContainerã€‚
- **é‡ä»»åŠ¡å¼‚æ­¥åŒ–**ï¼šé¢„è§ˆ/å‡ ä½•è½¬æ¢/å»é‡/ML é€šè¿‡ Job é˜Ÿåˆ—æ‰§è¡Œï¼Œé¿å… API è¶…æ—¶ã€‚

### 7.2 Job æ¨¡å‹ï¼ˆé˜Ÿåˆ—ï¼‰

- è¡¨ï¼š`meta_conversion_jobs`
- å­—æ®µï¼š`task_type/status/priority/attempt_count/max_attempts/payload/last_error/...`
- ç»“æœæŒä¹…åŒ–ï¼šä»»åŠ¡å®Œæˆæ—¶æŠŠ `result` å†™å…¥ `payload.result`ï¼Œä¾¿äº API æŸ¥è¯¢ä¸è°ƒè¯•ã€‚

### 7.3 CAD Pipeline ä»»åŠ¡ï¼ˆå¯æ‹† Worker/Microserviceï¼‰

ä»»åŠ¡ç±»å‹ï¼ˆå·²æ¥å…¥ workerï¼‰ï¼š

- `cad_preview`ï¼šç”Ÿæˆé¢„è§ˆå›¾ï¼ˆä¼˜å…ˆçœŸå®é¢„è§ˆï¼Œç¼ºä¾èµ–æ—¶ç”Ÿæˆå ä½ PNGï¼‰
- `cad_geometry`ï¼šç”Ÿæˆ 3D viewer å¯ç”¨å‡ ä½•ï¼ˆobj/gltf/glb/stlï¼›ä¾èµ– FreeCAD/cadquery/trimeshï¼‰
- `cad_dedup_vision`ï¼šè°ƒç”¨ `dedupcad-vision` åš 2D å›¾çº¸ç›¸ä¼¼æ£€ç´¢/å¯é€‰å…¥åº“
- `cad_ml_vision`ï¼šè°ƒç”¨ `cad-ml-platform` å¯¹é¢„è§ˆå›¾åš OCR/æè¿°/åˆ†ç±»ç­‰

**é”™è¯¯ç­–ç•¥ï¼ˆé¿å…é‡è¯•é£æš´ï¼‰**

- å¯¹å¤–éƒ¨æœåŠ¡è°ƒç”¨ï¼šä»»åŠ¡æ•è·å¼‚å¸¸å¹¶ä»¥ `{ok:false,error:...}` å®Œæˆä»»åŠ¡ï¼ˆä¸è§¦å‘æ— é™é‡è¯•ï¼‰ã€‚
- å¯¹æœ¬åœ°è½¬æ¢å™¨ç¼ºå¤±ï¼šåŒæ ·è¿”å›å¯è§£é‡Šå¤±è´¥ï¼›å…è®¸åç»­å®‰è£…ä¾èµ–åé‡è·‘ï¼ˆå¯é€šè¿‡æ‰‹åŠ¨é‡å»ºä»»åŠ¡æˆ–æ‰©å±•â€œé‡è¯•æŒ‰é’®â€ï¼‰ã€‚

### 7.4 é¢„è§ˆ/å‡ ä½•è¯»å–

- `GET /api/v1/file/{file_id}/preview`ï¼šè¿”å› PNGï¼ˆæˆ– 404 æœªç”Ÿæˆï¼‰
- `GET /api/v1/file/{file_id}/geometry`ï¼šè¿”å›å‡ ä½•æ–‡ä»¶ï¼ˆæˆ– 404 æœªç”Ÿæˆï¼‰

> å½“å‰é“¾è·¯å·²é€šè¿‡éªŒè¯ï¼š`cad/import` â†’ `cad_preview` â†’ `file/{id}/preview`ï¼Œè¯¦è§ `docs/VERIFICATION_RESULTS.md`ã€‚

---

## 8. æ’ä»¶ä¸æ‰©å±•æœºåˆ¶ï¼ˆæ¨¡å—åŒ–/å¾®æœåŠ¡åŒ–è½åœ°æŠ“æ‰‹ï¼‰

### 8.1 æ’ä»¶é€‚åˆæ‰¿è½½çš„èƒ½åŠ›

- CAD è¿æ¥å™¨ï¼šä¸åŒ CAD çš„å±æ€§æŠ½å–/ç‰ˆæœ¬è§„åˆ™/å‘½åè§„åˆ™
- å¯¼å…¥å¯¼å‡ºï¼šERP/MES/ECM/é¡¹ç›®ç®¡ç†ç³»ç»Ÿ
- è§„åˆ™å¼•æ“ï¼šç¼–ç è§„åˆ™ã€BOM æ ¡éªŒã€ç­¾å®¡ç­–ç•¥
- ä»»åŠ¡æ‰©å±•ï¼šè‡ªå®šä¹‰ job handlerï¼ˆæŠ¥è¡¨ã€æ‰¹å¤„ç†ã€æ‰¹é‡è¿ç§»ï¼‰

### 8.2 æ¼”è¿›ç­–ç•¥

- å…ˆåš **Plugin API åˆåŒç¨³å®š**ï¼ˆæ³¨å†Œè·¯ç”±/ä»»åŠ¡/é…ç½®é¡¹ï¼‰ï¼Œå†é€æ­¥æŠŠâ€œå¯å˜ä¸šåŠ¡â€è¿åˆ°æ’ä»¶ã€‚
- å½“æ’ä»¶/ä»»åŠ¡å˜é‡åï¼Œå¯ä»¥æŠŠæ’ä»¶å®ç°è¿å‡ºä¸ºç‹¬ç«‹æœåŠ¡ï¼Œä½†ä¿ç•™åŒä¸€ job/task_type å¥‘çº¦ã€‚

---

## 9. å¯å¤ç”¨èµ„äº§ï¼ˆæ¥è‡ªæ—§ PLMï¼‰

- æ—§ä»“åº“ `/Users/huazhou/Downloads/Github/PLM/src` çš„å¯å¤ç”¨æ¸…å•ä¸è¿ç§»ç­–ç•¥è§ `docs/REUSE.md`ï¼š
  - âœ… ä¼˜å…ˆå¤ç”¨ï¼š`plm_core`ï¼ˆMeta Engine å†…æ ¸ã€ç‰ˆæœ¬ã€æƒé™ã€ECO ç­‰ï¼‰
  - ğŸŸ¡ æ‘˜å–å¤ç”¨ï¼š`plm_framework`ï¼ˆæ¨ªåˆ‡èƒ½åŠ›ï¼‰
  - ğŸŸ¡ å‚è€ƒä¸ºä¸»ï¼šCAD æ’ä»¶ã€æµ‹è¯•ä½“ç³»ã€migrations runbookã€éƒ¨ç½²æ ·æ¿ç­‰

> æ³¨æ„ï¼šæ—§ä»“åº“é‡Œ CAD è½¬æ¢æœåŠ¡åŒæ ·å­˜åœ¨â€œæ–¹æ³•åè¦†ç›–å¯¼è‡´ `_generate_preview` ä¸¢å¤±â€çš„å‘ï¼›Yuantus å·²ä¿®å¤å¹¶è®°å½•åœ¨éªŒè¯æ–‡æ¡£ä¸­ã€‚

---

## 10. å¼€å‘ä¸éªŒè¯å·¥ä½œæµï¼ˆå»ºè®®æ ‡å‡†ï¼‰

### 10.1 å¯åŠ¨

```bash
python3 -m venv .venv
. .venv/bin/activate
pip install -e .
yuantus start --reload --port 7910
```

### 10.2 åˆå§‹åŒ–ï¼ˆdevï¼‰

```bash
yuantus seed-identity --tenant tenant-1 --org org-1 --username admin --password admin --user-id 1 --roles admin
yuantus seed-meta
```

### 10.3 è·‘ Workerï¼ˆä¸€æ¬¡ï¼‰

```bash
yuantus worker --worker-id worker-cad --poll-interval 1 --once
```

### 10.4 éªŒè¯å…¥å£

- å¤ç°è„šæœ¬ä¸è¯´æ˜ï¼š`docs/VERIFICATION.md`
- å®é™…æ‰§è¡Œè®°å½•ï¼š`docs/VERIFICATION_RESULTS.md`

---

## 11. ä¸‹ä¸€é˜¶æ®µï¼ˆå»ºè®® Roadmapï¼‰

- CADï¼š
  - æŠŠ `cad_preview/cad_geometry` çš„è½¬æ¢ä¾èµ–ï¼ˆFreeCAD/cadquery/Pillowï¼‰å›ºåŒ–åˆ°ä¸“ç”¨è½¬æ¢é•œåƒ/è½¬æ¢èŠ‚ç‚¹ã€‚
  - å¼•å…¥â€œçœŸå® DWG/DXF/SolidWorks/Inventor/NX/CATIAâ€çš„è§£æç­–ç•¥ï¼ˆä¼˜å…ˆï¼šDWG/DXF + STEPï¼‰ã€‚
  - å»ºç«‹â€œItem â†” CAD Model â†” Drawing â†” Revisionâ€ç»‘å®šæ¨¡å‹ä¸å›å†™ç­–ç•¥ï¼ˆå±æ€§/æ–‡ä»¶/ç‰ˆæœ¬ï¼‰ã€‚
- å¤šç§Ÿæˆ·ï¼š
  - ç”Ÿäº§çº§éš”ç¦»ç­–ç•¥ï¼ˆPostgresï¼šschema-per-tenant æˆ–ç‹¬ç«‹åº“ï¼‰ä¸è¿ç§»ï¼ˆAlembicï¼‰ã€‚
  - é…é¢/é™é¢ï¼ˆå­˜å‚¨ã€å¹¶å‘ä»»åŠ¡ã€ç”¨æˆ·æ•°ï¼‰ä¸å®¡è®¡ã€‚
- å¯è§‚æµ‹ï¼š
  - ç»“æ„åŒ–æ—¥å¿—ã€job æŒ‡æ ‡ã€traceï¼›å¤–éƒ¨æœåŠ¡è°ƒç”¨çš„å¯è§‚æµ‹ä¸ç†”æ–­ç­–ç•¥ã€‚
- äº¤ä»˜ï¼š
  - ç§æœ‰åŒ–ä¸€é”®å®‰è£…ï¼ˆcompose/k8sï¼‰ã€å‡çº§ç­–ç•¥ã€å¤‡ä»½æ¢å¤ã€‚
