services:
  cad-connector:
    build:
      context: ./services/cad-connector
    ports:
      - "8300:8300"
    environment:
      CAD_CONNECTOR_AUTH_MODE: "disabled"
    healthcheck:
      test:
        [
          "CMD",
          "python3",
          "-c",
          "import urllib.request,sys;urllib.request.urlopen('http://localhost:8300/health');sys.exit(0)",
        ]
      interval: 10s
      timeout: 3s
      retries: 10
